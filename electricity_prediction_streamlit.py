# -*- coding: utf-8 -*-
"""Untitled0.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1dqjsgdt-8lw0r2F_Nw7tmFlxIhsrWNo4
"""

import streamlit as st
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
import joblib

# Load trained models
lr_model = joblib.load('linear_regression_model.pkl')
dt_model = joblib.load('decision_tree_model.pkl')

# Streamlit app
def run_streamlit_app():
    st.title("Prediksi Konsumsi Listrik Bulanan")

    st.sidebar.header("Input Data")
    voltage = st.sidebar.slider("Tegangan (Volt)", min_value=200.0, max_value=250.0, value=230.0, step=0.1)
    intensity = st.sidebar.slider("Intensitas Global (Ampere)", min_value=0.0, max_value=50.0, value=20.0, step=0.1)
    power_factor = st.sidebar.slider("Faktor Daya", min_value=0.8, max_value=1.0, value=0.95, step=0.01)

    if st.sidebar.button("Prediksi"):
        input_data = pd.DataFrame({
            'Voltage': [voltage],
            'Global_intensity': [intensity],
            'power_factor': [power_factor]
        })

        # Predict using Linear Regression
        lr_pred = lr_model.predict(input_data)[0]

        # Predict using Decision Tree
        dt_pred = dt_model.predict(input_data)[0]

        st.subheader("Hasil Prediksi")
        st.write(f"Prediksi konsumsi listrik (Linear Regression): {lr_pred:.2f} Wh")
        st.write(f"Prediksi konsumsi listrik (Decision Tree): {dt_pred:.2f} Wh")

    st.subheader("Informasi Tambahan")
    st.markdown("Gunakan data input untuk melihat prediksi konsumsi listrik berdasarkan model yang telah dilatih.")

if __name__ == "__main__":
    run_streamlit_app()